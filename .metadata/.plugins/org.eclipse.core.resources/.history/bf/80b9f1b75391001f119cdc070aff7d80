package kr.ac.kku.cs.wp.nangkongmu.user.data;

import kr.ac.kku.cs.wp.nangkongmu.user.entity.User;
import java.util.HashMap;
import java.util.Map;

public class UserData {

    private static UserData instance;
    private Map<String, User> users;

    // Private constructor to prevent instantiation
    private UserData() {
        this.users = new HashMap<>();
        initData();
    }

    // Initialize data with some default users (for demonstration purposes)
    private void initData() {
        // Sample data initialization (replace this with real data fetching logic if needed)
        User sampleUser = new User();
        sampleUser.setId("kku_1001");
        sampleUser.setName("Kim Cheolsoo");
        sampleUser.setEmail("cheolsoo@kku.ac.kr");
        sampleUser.setPassword("password123");
        sampleUser.setStatus("active");
        users.put(sampleUser.getId(), sampleUser);
    }

    // Method to get the singleton instance
    public static synchronized UserData getInstance() {
        if (instance == null) {
            instance = new UserData();
        }
        return instance;
    }

    // Method to get a user by ID
    public User getUserById(String userId) {
        return users.get(userId);
    }

    // Method to add or update a user
    public void addUser(User user) {
        users.put(user.getId(), user);
    }

    // Method to remove a user
    public void removeUser(String userId) {
        users.remove(userId);
    }

    // Method to get all users
    public Map<String, User> getAllUsers() {
        return users;
    }
}